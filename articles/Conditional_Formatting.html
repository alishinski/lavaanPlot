<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="lavaanPlot">
<title>Conditional Formatting • lavaanPlot</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Conditional Formatting">
<meta property="og:description" content="lavaanPlot">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">lavaanPlot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Conditional_Formatting.html">Conditional Formatting</a>
    <a class="dropdown-item" href="../articles/Improvements_to_lavaanPlot.html">Improvements to lavaanPlot</a>
    <a class="dropdown-item" href="../articles/Intro_to_lavaanPlot.html">Intro to lavaanPlot</a>
    <a class="dropdown-item" href="../articles/Save_and_embed.html">lavaanPlot: Saving and Embedding Plots</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/alishinski/lavaanPlot/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="Conditional_Formatting_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="Conditional_Formatting_files/viz-1.8.2/viz.js"></script><link href="Conditional_Formatting_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="Conditional_Formatting_files/grViz-binding-1.0.10/grViz.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Conditional Formatting</h1>
                        <h4 data-toc-skip class="author">Alex
Lishinski</h4>
            
            <h4 data-toc-skip class="date">2024-01-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/alishinski/lavaanPlot/blob/HEAD/vignettes/Conditional_Formatting.Rmd" class="external-link"><code>vignettes/Conditional_Formatting.Rmd</code></a></small>
      <div class="d-none name"><code>Conditional_Formatting.Rmd</code></div>
    </div>

    
    
<p>As a part of the new improvements to the package, a feature that I’ve
long wanted to add was conditional formatting. By conditional
formatting, I mean formatting different parts of the plot differently,
like perhaps changing the shape of only latent variable nodes, or
changing the color of covariance edges separately from latent variable
or regression edges. Well, I’m pleased to introduce this functionality
into the package for version 0.8.0!!</p>
<div class="section level2">
<h2 id="conditional-formatting-in-lavaanplot">Conditional formatting in LavaanPlot<a class="anchor" aria-label="anchor" href="#conditional-formatting-in-lavaanplot"></a>
</h2>
<p>Conditional formatting means applying different node or edge options
to different groups of nodes or edges respectively. For the context of
structural equation models there are some natural groupings of nodes and
edges. For nodes it is often helpful to distinguish latent from observed
values, and for edges it is often helpful to distinguish regression,
latent, and covariance relationships.</p>
<p>The way that I have implemented conditional formatting in
<code>lavaanPlot</code> involves a new helper function called
<code>formatting</code>. In the old version of the package, for both the
original <code>lavaanPlot</code> and the new <code>lavaanPlot2</code>,
formatting options were specified through the <code>node_options</code>
and <code>edge_options</code> argument (through the
<code>graph_options</code> argument too, but I won’t discuss that here
because it doesn’t lend itself to conditional formatting). You would
specify a named list of attribute-value pairs for these arguments to
give your formatting choices, and these would apply to the whole graph.
Not anymore.</p>
<p>Now with the <code>formatting</code> helper function you can create
sets of node and edge attributes for specific parts of the graph. You
can do this for the natural groupings of nodes and edges mentioned
below, and you can also do it for custom groupings of edges.</p>
</div>
<div class="section level2">
<h2 id="formatting-function">
<code>formatting</code> function<a class="anchor" aria-label="anchor" href="#formatting-function"></a>
</h2>
<p>The <code>formatting</code> function works as follows. You supply
lists of formatting you want to apply to the portions of the graph, and
you pass the resulting list to <code>lavaanPlot2</code>.</p>
<p>There are a few main scenarios to think about.</p>
<p>Here’s a good example latent variable model:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HS.model</span> <span class="op">&lt;-</span> <span class="st">' visual  =~ x1 + x2 + x3</span></span>
<span><span class="st">textual =~ x4 + x5 + x6</span></span>
<span><span class="st">speed   =~ x7 + x8 + x9</span></span>
<span><span class="st">'</span></span>
<span></span>
<span><span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">cfa</a></span><span class="op">(</span><span class="va">HS.model</span>, data<span class="op">=</span><span class="va">HolzingerSwineford1939</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit2</span><span class="op">)</span></span>
<span><span class="co">#&gt; lavaan 0.6.17 ended normally after 35 iterations</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Estimator                                         ML</span></span>
<span><span class="co">#&gt;   Optimization method                           NLMINB</span></span>
<span><span class="co">#&gt;   Number of model parameters                        21</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Number of observations                           301</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model Test User Model:</span></span>
<span><span class="co">#&gt;                                                       </span></span>
<span><span class="co">#&gt;   Test statistic                                85.306</span></span>
<span><span class="co">#&gt;   Degrees of freedom                                24</span></span>
<span><span class="co">#&gt;   P-value (Chi-square)                           0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Estimates:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Standard errors                             Standard</span></span>
<span><span class="co">#&gt;   Information                                 Expected</span></span>
<span><span class="co">#&gt;   Information saturated (h1) model          Structured</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Latent Variables:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   visual =~                                           </span></span>
<span><span class="co">#&gt;     x1                1.000                           </span></span>
<span><span class="co">#&gt;     x2                0.554    0.100    5.554    0.000</span></span>
<span><span class="co">#&gt;     x3                0.729    0.109    6.685    0.000</span></span>
<span><span class="co">#&gt;   textual =~                                          </span></span>
<span><span class="co">#&gt;     x4                1.000                           </span></span>
<span><span class="co">#&gt;     x5                1.113    0.065   17.014    0.000</span></span>
<span><span class="co">#&gt;     x6                0.926    0.055   16.703    0.000</span></span>
<span><span class="co">#&gt;   speed =~                                            </span></span>
<span><span class="co">#&gt;     x7                1.000                           </span></span>
<span><span class="co">#&gt;     x8                1.180    0.165    7.152    0.000</span></span>
<span><span class="co">#&gt;     x9                1.082    0.151    7.155    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Covariances:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   visual ~~                                           </span></span>
<span><span class="co">#&gt;     textual           0.408    0.074    5.552    0.000</span></span>
<span><span class="co">#&gt;     speed             0.262    0.056    4.660    0.000</span></span>
<span><span class="co">#&gt;   textual ~~                                          </span></span>
<span><span class="co">#&gt;     speed             0.173    0.049    3.518    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variances:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;    .x1                0.549    0.114    4.833    0.000</span></span>
<span><span class="co">#&gt;    .x2                1.134    0.102   11.146    0.000</span></span>
<span><span class="co">#&gt;    .x3                0.844    0.091    9.317    0.000</span></span>
<span><span class="co">#&gt;    .x4                0.371    0.048    7.779    0.000</span></span>
<span><span class="co">#&gt;    .x5                0.446    0.058    7.642    0.000</span></span>
<span><span class="co">#&gt;    .x6                0.356    0.043    8.277    0.000</span></span>
<span><span class="co">#&gt;    .x7                0.799    0.081    9.823    0.000</span></span>
<span><span class="co">#&gt;    .x8                0.488    0.074    6.573    0.000</span></span>
<span><span class="co">#&gt;    .x9                0.566    0.071    8.003    0.000</span></span>
<span><span class="co">#&gt;     visual            0.809    0.145    5.564    0.000</span></span>
<span><span class="co">#&gt;     textual           0.979    0.112    8.737    0.000</span></span>
<span><span class="co">#&gt;     speed             0.384    0.086    4.451    0.000</span></span>
<span><span class="va">labels2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>visual <span class="op">=</span> <span class="st">"Visual Ability"</span>, textual <span class="op">=</span> <span class="st">"Textual Ability"</span>, speed <span class="op">=</span> <span class="st">"Speed Ability"</span><span class="op">)</span></span></code></pre></div>
<p>And here’s the old way of doing things without conditional
formatting:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/lavaanPlot2.html">lavaanPlot2</a></span><span class="op">(</span><span class="va">fit2</span>, include <span class="op">=</span> <span class="st">"covs"</span>, labels <span class="op">=</span> <span class="va">labels2</span>,</span>
<span>            graph_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"my first graph with signficance stars"</span><span class="op">)</span>,</span>
<span>            node_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span> fontname <span class="op">=</span> <span class="st">"Helvetica"</span><span class="op">)</span>,</span>
<span>            edge_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"grey"</span><span class="op">)</span>,</span>
<span>            stars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"latent"</span><span class="op">)</span>,</span>
<span>            coef_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="grViz html-widget html-fill-item" id="htmlwidget-43bc7ed4a2bb7fc852c4" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-43bc7ed4a2bb7fc852c4">{"x":{"diagram":"digraph {\n\ngraph [label = \"my first graph with signficance stars\"]\n\n\n\n  \"1\" [label = \"Visual Ability\", shape = \"oval\", group = \"latent\", fontname = \"Helvetica\"] \n  \"2\" [label = \"Textual Ability\", shape = \"oval\", group = \"latent\", fontname = \"Helvetica\"] \n  \"3\" [label = \"Speed Ability\", shape = \"oval\", group = \"latent\", fontname = \"Helvetica\"] \n  \"4\" [label = \"x1\", shape = \"box\", group = \"obs\", fontname = \"Helvetica\"] \n  \"5\" [label = \"x2\", shape = \"box\", group = \"obs\", fontname = \"Helvetica\"] \n  \"6\" [label = \"x3\", shape = \"box\", group = \"obs\", fontname = \"Helvetica\"] \n  \"7\" [label = \"x4\", shape = \"box\", group = \"obs\", fontname = \"Helvetica\"] \n  \"8\" [label = \"x5\", shape = \"box\", group = \"obs\", fontname = \"Helvetica\"] \n  \"9\" [label = \"x6\", shape = \"box\", group = \"obs\", fontname = \"Helvetica\"] \n  \"10\" [label = \"x7\", shape = \"box\", group = \"obs\", fontname = \"Helvetica\"] \n  \"11\" [label = \"x8\", shape = \"box\", group = \"obs\", fontname = \"Helvetica\"] \n  \"12\" [label = \"x9\", shape = \"box\", group = \"obs\", fontname = \"Helvetica\"] \n\"4\"->\"1\" [dir = \"back\", label = \"1***\", color = \"grey\"] \n\"5\"->\"1\" [dir = \"back\", label = \"0.55***\", color = \"grey\"] \n\"6\"->\"1\" [dir = \"back\", label = \"0.73***\", color = \"grey\"] \n\"7\"->\"2\" [dir = \"back\", label = \"1***\", color = \"grey\"] \n\"8\"->\"2\" [dir = \"back\", label = \"1.11***\", color = \"grey\"] \n\"9\"->\"2\" [dir = \"back\", label = \"0.93***\", color = \"grey\"] \n\"10\"->\"3\" [dir = \"back\", label = \"1***\", color = \"grey\"] \n\"11\"->\"3\" [dir = \"back\", label = \"1.18***\", color = \"grey\"] \n\"12\"->\"3\" [dir = \"back\", label = \"1.08***\", color = \"grey\"] \n\"2\"->\"1\" [dir = \"both\", label = \"0.41\", color = \"grey\"] \n\"3\"->\"1\" [dir = \"both\", label = \"0.26\", color = \"grey\"] \n\"3\"->\"2\" [dir = \"both\", label = \"0.17\", color = \"grey\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script><div class="section level3">
<h3 id="contitional-formatting-for-nodes">Contitional formatting for nodes<a class="anchor" aria-label="anchor" href="#contitional-formatting-for-nodes"></a>
</h3>
<p>Now here’s an example where we’re separately customizing the
formatting of the latent and observed variable nodes. The
<code>formatting</code> function creates our differentiated formatting,
and we specify that we’re doing node formatting, so it then receives our
formatting lists in order of latent, followed by observed variables.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n_opts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/formatting.html">formatting</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="st">"polygon"</span>, sides <span class="op">=</span> <span class="st">"6"</span>, color <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="st">"polygon"</span>, sides <span class="op">=</span> <span class="st">"8"</span>,color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"node"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/lavaanPlot2.html">lavaanPlot2</a></span><span class="op">(</span><span class="va">fit2</span>, include <span class="op">=</span> <span class="st">"covs"</span>, labels <span class="op">=</span> <span class="va">labels2</span>,</span>
<span>            graph_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"my first graph with signficance stars"</span><span class="op">)</span>,</span>
<span>            node_options <span class="op">=</span> <span class="va">n_opts</span>,</span>
<span>            edge_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"grey"</span><span class="op">)</span>,</span>
<span>            stars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"latent"</span><span class="op">)</span>,</span>
<span>            coef_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="grViz html-widget html-fill-item" id="htmlwidget-d5490074594eec852643" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-d5490074594eec852643">{"x":{"diagram":"digraph {\n\ngraph [label = \"my first graph with signficance stars\"]\n\n\n\n  \"1\" [label = \"Visual Ability\", group = \"latent\", shape = \"polygon\", sides = \"6\", color = \"orange\"] \n  \"2\" [label = \"Textual Ability\", group = \"latent\", shape = \"polygon\", sides = \"6\", color = \"orange\"] \n  \"3\" [label = \"Speed Ability\", group = \"latent\", shape = \"polygon\", sides = \"6\", color = \"orange\"] \n  \"4\" [label = \"x1\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"5\" [label = \"x2\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"6\" [label = \"x3\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"7\" [label = \"x4\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"8\" [label = \"x5\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"9\" [label = \"x6\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"10\" [label = \"x7\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"11\" [label = \"x8\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"12\" [label = \"x9\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n\"4\"->\"1\" [dir = \"back\", label = \"1***\", color = \"grey\"] \n\"5\"->\"1\" [dir = \"back\", label = \"0.55***\", color = \"grey\"] \n\"6\"->\"1\" [dir = \"back\", label = \"0.73***\", color = \"grey\"] \n\"7\"->\"2\" [dir = \"back\", label = \"1***\", color = \"grey\"] \n\"8\"->\"2\" [dir = \"back\", label = \"1.11***\", color = \"grey\"] \n\"9\"->\"2\" [dir = \"back\", label = \"0.93***\", color = \"grey\"] \n\"10\"->\"3\" [dir = \"back\", label = \"1***\", color = \"grey\"] \n\"11\"->\"3\" [dir = \"back\", label = \"1.18***\", color = \"grey\"] \n\"12\"->\"3\" [dir = \"back\", label = \"1.08***\", color = \"grey\"] \n\"2\"->\"1\" [dir = \"both\", label = \"0.41\", color = \"grey\"] \n\"3\"->\"1\" [dir = \"both\", label = \"0.26\", color = \"grey\"] \n\"3\"->\"2\" [dir = \"both\", label = \"0.17\", color = \"grey\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="conditional-formatting-for-edges">Conditional formatting for edges<a class="anchor" aria-label="anchor" href="#conditional-formatting-for-edges"></a>
</h3>
<p>Here’s an example with the node formatting, along with some
differentiated edge formatting for the regression, latent, covariance
groups.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">e_opts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/formatting.html">formatting</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"red"</span>, penwidth <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"edge"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/lavaanPlot2.html">lavaanPlot2</a></span><span class="op">(</span><span class="va">fit2</span>, include <span class="op">=</span> <span class="st">"covs"</span>, labels <span class="op">=</span> <span class="va">labels2</span>,</span>
<span>            graph_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"my first graph with signficance stars"</span><span class="op">)</span>,</span>
<span>            node_options <span class="op">=</span> <span class="va">n_opts</span>,</span>
<span>            edge_options <span class="op">=</span> <span class="va">e_opts</span>,</span>
<span>            stars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"latent"</span><span class="op">)</span>,</span>
<span>            coef_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="grViz html-widget html-fill-item" id="htmlwidget-19eae27c62bae859f3eb" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-19eae27c62bae859f3eb">{"x":{"diagram":"digraph {\n\ngraph [label = \"my first graph with signficance stars\"]\n\n\n\n  \"1\" [label = \"Visual Ability\", group = \"latent\", shape = \"polygon\", sides = \"6\", color = \"orange\"] \n  \"2\" [label = \"Textual Ability\", group = \"latent\", shape = \"polygon\", sides = \"6\", color = \"orange\"] \n  \"3\" [label = \"Speed Ability\", group = \"latent\", shape = \"polygon\", sides = \"6\", color = \"orange\"] \n  \"4\" [label = \"x1\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"5\" [label = \"x2\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"6\" [label = \"x3\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"7\" [label = \"x4\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"8\" [label = \"x5\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"9\" [label = \"x6\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"10\" [label = \"x7\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"11\" [label = \"x8\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"12\" [label = \"x9\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n\"4\"->\"1\" [dir = \"back\", label = \"1***\", color = \"red\", penwidth = \"6\"] \n\"5\"->\"1\" [dir = \"back\", label = \"0.55***\", color = \"red\", penwidth = \"6\"] \n\"6\"->\"1\" [dir = \"back\", label = \"0.73***\", color = \"red\", penwidth = \"6\"] \n\"7\"->\"2\" [dir = \"back\", label = \"1***\", color = \"red\", penwidth = \"6\"] \n\"8\"->\"2\" [dir = \"back\", label = \"1.11***\", color = \"red\", penwidth = \"6\"] \n\"9\"->\"2\" [dir = \"back\", label = \"0.93***\", color = \"red\", penwidth = \"6\"] \n\"10\"->\"3\" [dir = \"back\", label = \"1***\", color = \"red\", penwidth = \"6\"] \n\"11\"->\"3\" [dir = \"back\", label = \"1.18***\", color = \"red\", penwidth = \"6\"] \n\"12\"->\"3\" [dir = \"back\", label = \"1.08***\", color = \"red\", penwidth = \"6\"] \n\"2\"->\"1\" [dir = \"both\", label = \"0.41\", color = \"blue\"] \n\"3\"->\"1\" [dir = \"both\", label = \"0.26\", color = \"blue\"] \n\"3\"->\"2\" [dir = \"both\", label = \"0.17\", color = \"blue\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="conditional-formatting-for-custom-sets-of-edges">Conditional formatting for Custom sets of edges<a class="anchor" aria-label="anchor" href="#conditional-formatting-for-custom-sets-of-edges"></a>
</h3>
<p>And finally we can add on another layer of edge formatting, on top of
the standard groupings of edges used above, with our own custom selected
edges, by specifying parameter labels in the model specification. To add
labels, simply pre-multiply a text string with the name of the
variable.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HS.model</span> <span class="op">&lt;-</span> <span class="st">' visual  =~ A*x1 + x2 + x3</span></span>
<span><span class="st">textual =~ x4 + x5 + B*x6</span></span>
<span><span class="st">speed   =~ x7 + x8 + x9</span></span>
<span><span class="st">'</span></span>
<span></span>
<span><span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">cfa</a></span><span class="op">(</span><span class="va">HS.model</span>, data<span class="op">=</span><span class="va">HolzingerSwineford1939</span><span class="op">)</span></span></code></pre></div>
<p>Then we can specify a set of options for the custom parameter labels,
and make a list of the two different sets of edge options.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">c_opts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/formatting.html">formatting</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"yellow"</span>, penwidth <span class="op">=</span> <span class="fl">8</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"blue"</span>, penwidth <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"custom"</span>, groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/lavaanPlot2.html">lavaanPlot2</a></span><span class="op">(</span><span class="va">fit2</span>, include <span class="op">=</span> <span class="st">"covs"</span>, labels <span class="op">=</span> <span class="va">labels2</span>,</span>
<span>            graph_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"my first graph with signficance stars"</span><span class="op">)</span>,</span>
<span>            node_options <span class="op">=</span> <span class="va">n_opts</span>,</span>
<span>            edge_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">e_opts</span>, <span class="va">c_opts</span><span class="op">)</span>,</span>
<span>            stars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"latent"</span><span class="op">)</span>,</span>
<span>            coef_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="grViz html-widget html-fill-item" id="htmlwidget-858dadcf93722dfef0f1" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-858dadcf93722dfef0f1">{"x":{"diagram":"digraph {\n\ngraph [label = \"my first graph with signficance stars\"]\n\n\n\n  \"1\" [label = \"Visual Ability\", group = \"latent\", shape = \"polygon\", sides = \"6\", color = \"orange\"] \n  \"2\" [label = \"Textual Ability\", group = \"latent\", shape = \"polygon\", sides = \"6\", color = \"orange\"] \n  \"3\" [label = \"Speed Ability\", group = \"latent\", shape = \"polygon\", sides = \"6\", color = \"orange\"] \n  \"4\" [label = \"x1\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"5\" [label = \"x2\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"6\" [label = \"x3\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"7\" [label = \"x4\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"8\" [label = \"x5\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"9\" [label = \"x6\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"10\" [label = \"x7\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"11\" [label = \"x8\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n  \"12\" [label = \"x9\", group = \"obs\", shape = \"polygon\", sides = \"8\", color = \"blue\"] \n\"4\"->\"1\" [dir = \"back\", label = \"1***\", color = \"yellow\", penwidth = \"8\"] \n\"5\"->\"1\" [dir = \"back\", label = \"0.55***\", color = \"red\", penwidth = \"6\"] \n\"6\"->\"1\" [dir = \"back\", label = \"0.73***\", color = \"red\", penwidth = \"6\"] \n\"7\"->\"2\" [dir = \"back\", label = \"1***\", color = \"red\", penwidth = \"6\"] \n\"8\"->\"2\" [dir = \"back\", label = \"1.11***\", color = \"red\", penwidth = \"6\"] \n\"9\"->\"2\" [dir = \"back\", label = \"0.93***\", color = \"blue\", penwidth = \"10\"] \n\"10\"->\"3\" [dir = \"back\", label = \"1***\", color = \"red\", penwidth = \"6\"] \n\"11\"->\"3\" [dir = \"back\", label = \"1.18***\", color = \"red\", penwidth = \"6\"] \n\"12\"->\"3\" [dir = \"back\", label = \"1.08***\", color = \"red\", penwidth = \"6\"] \n\"2\"->\"1\" [dir = \"both\", label = \"0.41\", color = \"blue\"] \n\"3\"->\"1\" [dir = \"both\", label = \"0.26\", color = \"blue\"] \n\"3\"->\"2\" [dir = \"both\", label = \"0.17\", color = \"blue\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Alex Lishinski.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
